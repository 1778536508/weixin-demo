<view class="douban-title">
  <text>豆瓣电影</text>
</view>
<view class="douban-movies">  
  <view wx:for="{{content}}" wx:for-item="item" wx:for-index="index" wx:key="{{index}}" class="douban-movies-row" data-url="{{item.alt}}">

   <view class="douban-movies-cover">
      <image src="{{item.images.large}}" mode="widthFix"></image>
   </view>

    <view>
      <text>影片名：{{item.title}}</text>
    </view>
    <view>
      <text>ID：{{item.id}}</text>
    </view>
    <view class="douban-movies-rating">
      <text>评分：</text>
      <i class="fa {{item.rating.average >= 2 ? 'fa-heart' : 'fa-heart-o'}}"></i> 
      <i class="fa {{item.rating.average >= 4 ? 'fa-heart' : 'fa-heart-o'}}"></i> 
      <i class="fa {{item.rating.average >= 6 ? 'fa-heart' : 'fa-heart-o'}}"></i> 
      <i class="fa {{item.rating.average >= 8 ? 'fa-heart' : 'fa-heart-o'}}"></i> 
      <i class="fa {{item.rating.average >= 10 ? 'fa-heart' : 'fa-heart-o'}}"></i> 
      <text> {{item.rating.average}}</text>
    </view>
    <view>
      <text>时长: {{item.durations[0]}}</text>
    </view>
 
     <view>
      <text>分类： {{item.genres}}</text>
    </view>
    <view style="margin-top: 10rpx; margin-bottom: 5rpx;" catch:tap="btnAnimation"  data-id="{{item.id}}">
      <text>主演：</text> 
      <i class="fa fa-angle-down"></i>
    </view>

    

    <swiper
      vertical
      autoplay
      circular
      style="height:0;"
      animation="{{item.animHeight}}"
    >
      <swiper-item
        style="height:400rpx;"
      >
        <view class="douban-movies-character">
          <view wx:for="{{item.casts}}" wx:for-item="val" wx:for-index="key" wx:key="key" class="douban-movies-character-list">
            <image src="{{val.avatars.medium}}" mode="widthFix"></image>
            <view class="douban-movies-character-list-text">
              <view>
                <text>{{val.name}}</text>
              </view>
              <view>
                <text>{{val.name_en}}</text>
              </view>
              <view style="padding-top: 15rpx;">
                <view  data-url="{{val.alt}}" data-id="val.id" class='douban-movies-character-list-text-brief'>
                  <text>简介</text>
                  <i class="fa fa-angle-down"></i>
                </view>  
              </view>
            </view>
          </view>
        </view>
      </swiper-item>
      <swiper-item
        style="height:400rpx;"
      >
        <view class="douban-movies-character">
          <view class="douban-movies-character-image">
            <image src="{{item.directors[0].avatars.large}}" mode="widthFix"></image>
          </view>
          <view>
            <text>{{item.directors[0].name}}</text>
          </view>
          <view>
            <text>{{item.directors[0].name_en}}</text>
          </view>
        </view>
      </swiper-item>
    </swiper>





  </view>
</view>